<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->

 <!-- Тут немного костыльный код конечно, но это первое что я придумал-->
<div class="tree">
  <div class="name-title">
    <div class="name-title__name">
      Проводник
    </div>
    <div class="name-title__title">
      <img src="./top.png" alt="">
      TEST-TASK-MA
    </div>
  </div>
  @if(treeNodes$ | async; as treeNodes){
    <div class="level">
      @for(treeNode of treeNodes; track treeNode.id){
        <div class="item{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
          @if(treeNode.children[0]){
            <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="">
          }
          {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
        </div>


        @if(treeNode.children[0]){
          <!--<br>-->
          @if(isChildren(treeNode.id) === true){
            @for(treeNode of treeNode.children; track treeNode.id){
              <div class="item2{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                @if(treeNode.children[0]){
                  <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                }
                {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
              </div>


              @if(treeNode.children[0]){
                <!--<br>-->
                @if(isChildren(treeNode.id) === true){
                  @for(treeNode of treeNode.children; track treeNode.id){
                    <div class="item3{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                      @if(treeNode.children[0]){
                        <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                      }
                      {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
                    </div>


                    @if(treeNode.children[0]){
                      <!--<br>-->
                      @if(isChildren(treeNode.id) === true){
                        @for(treeNode of treeNode.children; track treeNode.id){
                          <div class="item4{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                            @if(treeNode.children[0]){
                              <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                            }
                            {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
                          </div>


                          @if(treeNode.children[0]){
                            <!--<br>-->
                            @if(isChildren(treeNode.id) === true){
                              @for(treeNode of treeNode.children; track treeNode.id){
                                <div class="item5{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                                  @if(treeNode.children[0]){
                                    <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                                  }
                                  {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
                                </div>


                                @if(treeNode.children[0]){
                                  <!--<br>-->
                                  @if(isChildren(treeNode.id) === true){
                                    @for(treeNode of treeNode.children; track treeNode.id){
                                      <div class="item6{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                                        @if(treeNode.children[0]){
                                          <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                                        }
                                        {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
                                      </div>


                                      @if(treeNode.children[0]){
                                        <!--<br>-->
                                        @if(isChildren(treeNode.id) === true){
                                          @for(treeNode of treeNode.children; track treeNode.id){
                                            <div class="item7{{treeNode.children[0]? '--children' : '--notChildren'}} {{treeNode.is_deleted? '--gray' : ''}}" (click)="isChildrenUpdate(treeNode.id)">
                                              @if(treeNode.children[0]){
                                                <img src="{{isChildren(treeNode.id) === true? './top.png': './bottom.png'}}" alt="" >
                                              }
                                              {{treeNode.id}} {{treeNode.title}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; U
                                            </div>

                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
     }
    </div>
  }
</div>
